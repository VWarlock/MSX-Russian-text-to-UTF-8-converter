# Преобразование текстов созданных на MSX в кодировку UTF-8
Таблица символов MSX:

![Таблица символов MSX](https://www.msx.org/wiki/images/e/e0/MSX_font-russian.png)

Описание:
* 00h-7Fh - первые 128 символов соответствуют международной раскладке
* 80h-BEh - символы, которые в международной таблице находятся в диапазоне C0h-FEh
* BFh-FEh - русские символы
* FFh - курсор
* 40h-5Fh - графические символы, для обращение к ним используется префикс 01h

Русский набор символов в основном соответствует KOI8-R, за исключением того, что на MSX отсутствуют буквы «Ъ», «Ё» и «ё». 

Для побдора UTF сиволов использовался сайт https://unicode-table.com/ru/ проекта ![unicode-table-data](https://github.com/unicode-table/unicode-table-data)

Проект был создан для работы над файлами книги ![Пособие по программированию на MSX BASIC](https://github.com/mr-GreyWolf/MSX-BASIC-Programming-Guide-Russian)

**msx_russian-utf8.sh** скрипт для преобразовагия файлов

**msx2file.bas** файл для вывола таблицы кодов сисволов в файл test.msx

**test.msx** файл созданный прораммой msx2file.bas

**test.txt** результат работы скрипта msx_russian-utf8.sh с файлом test.msx

### msx_russian-utf8.sh

Скрипт производит побайтовое чтение исходного файла (в кодировке MSX), в зависимости от значения байта выполняется его замена и запись в временный файл. После достижения исходного конца файла создаются конечный файл путём записи в него последовательности байт из временного файла.

Для преобразования нужно задать переменные:

` files_path='.' `		путь к исходныи и конечным файлам

` file_ext_msx='.msx' `расширение исходного файла (MSX)

` file_msx_mask='test' `	маска исходных файлов, без расширения (MSX)

` file_ext_utf='.txt'	` расширение конечного файла (UTF-8)

`file_ext_tmp='.tmp' `	расширение временного файла

`temp_path='/tmp'	` путь для временных файлов

Не подобраны замены для символов с кодами:
* 48
* 50
* 5F
* 85
* 88 

                                                        
